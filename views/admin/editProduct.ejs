<%- include("../partials/adminHeader") %>

<div class="container mt-5">
  <h2 class="mb-4 text-center">Edit Product</h2>

  <form method="POST" action="/admin/products/edit/<%= product._id %>">
    <div class="mb-3">
      <label>Name:</label>
      <input type="text" name="name" value="<%= product.name %>" class="form-control" required />
    </div>

    <div class="mb-3">
      <label>Price:</label>
      <input type="number" name="price" value="<%= product.price %>" class="form-control" required />
    </div>

    <div class="mb-3">
      <label>Stock:</label>
      <input type="number" name="stock" value="<%= product.stock %>" class="form-control" required />
    </div>

    <div class="mb-3">
      <label>Description:</label>
      <textarea name="description" class="form-control" rows="4"><%= product.description %></textarea>
    </div>

    <div class="mb-3">
      <label>Category:</label>
      <select name="category" class="form-control">
        <% categories.forEach(cat => { %>
          <option value="<%= cat._id %>" <%= cat._id.equals(product.category._id) ? "selected" : "" %>>
            <%= cat.name %>
          </option>
        <% }) %>
      </select>
    </div>

    <button type="submit" class="btn btn-primary">Update</button>
    <a href="/admin/products" class="btn btn-secondary">Cancel</a>
  </form>
</div>

<%- include("../partials/adminFooter") %>
